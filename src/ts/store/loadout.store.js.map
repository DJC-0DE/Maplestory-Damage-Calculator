{
  "version": 3,
  "sources": ["loadout.store.ts"],
  "sourcesContent": ["/**\r\n * Centralized store for loadout data\r\n * Handles loading, saving, and migrating loadout configuration\r\n *\r\n * DATA FLOW:\r\n * 1. User changes DOM input\r\n * 2. Event listener fires UI handler\r\n * 3. UI handler calls loadoutStore.updateX()\r\n * 4. Store updates memory + saves to localStorage (dual-write)\r\n */\r\n\r\nimport type {\r\n    LoadoutData,\r\n    MasteryTier,\r\n    MasteryType,\r\n    LegacyDamageCalculatorData\r\n} from '@ts/types/loadout';\r\nimport { DEFAULT_LOADOUT_DATA } from '@ts/types/loadout';\r\nimport type { ContentType } from '@ts/types/constants';\r\n\r\nexport class LoadoutStore {\r\n    private data: LoadoutData;\r\n    private isInitialized: boolean = false;\r\n\r\n    // ========================================================================\r\n    // CONSTRUCTOR\r\n    // ========================================================================\r\n\r\n    constructor() {\r\n        // Initialize with empty data - will be populated by initialize()\r\n        this.data = JSON.parse(JSON.stringify(DEFAULT_LOADOUT_DATA));\r\n    }\r\n\r\n    // ========================================================================\r\n    // INITIALIZATION\r\n    // ========================================================================\r\n\r\n    /**\r\n     * Initialize store - loads from localStorage, handles migration\r\n     * Call this at the top of loadout-page init\r\n     *\r\n     * @returns Promise that resolves when initialization is complete\r\n     */\r\n    async initialize(): Promise<void> {\r\n        if (this.isInitialized) {\r\n            console.warn('LoadoutStore already initialized');\r\n            return;\r\n        }\r\n\r\n        // 1. Try loading from new 'loadout-data' key\r\n        const newData = localStorage.getItem('loadout-data');\r\n\r\n        if (newData) {\r\n            try {\r\n                this.data = JSON.parse(newData);\r\n                console.log('LoadoutStore: Loaded from new format (loadout-data)');\r\n            } catch (e) {\r\n                console.error('LoadoutStore: Failed to parse loadout-data, falling back to migration', e);\r\n                this.migrateFromLegacy();\r\n            }\r\n        } else {\r\n            // 2. If new key doesn't exist, migrate from old keys\r\n            this.migrateFromLegacy();\r\n        }\r\n\r\n        // 3. Validate and fill in missing fields with defaults\r\n        this.validateAndFillDefaults();\r\n\r\n        this.isInitialized = true;\r\n        console.log('LoadoutStore: Initialization complete', this.data);\r\n    }\r\n\r\n    /**\r\n     * Migrate data from legacy localStorage keys to new format\r\n     */\r\n    private migrateFromLegacy(): void {\r\n        console.log('LoadoutStore: Migrating from legacy format...');\r\n\r\n        const legacyDataStr = localStorage.getItem('damageCalculatorData');\r\n        const selectedClass = localStorage.getItem('selectedClass');\r\n        const selectedJobTier = localStorage.getItem('selectedJobTier');\r\n\r\n        if (!legacyDataStr && !selectedClass && !selectedJobTier) {\r\n            console.log('LoadoutStore: No legacy data found, using defaults');\r\n            return;\r\n        }\r\n\r\n        const legacy: Partial<LegacyDamageCalculatorData> = legacyDataStr\r\n            ? JSON.parse(legacyDataStr)\r\n            : {};\r\n\r\n        // Migrate baseStats\r\n        if (legacy.baseSetup) {\r\n            Object.entries(legacy.baseSetup).forEach(([key, value]) => {\r\n                if (typeof value === 'number') {\r\n                    this.data.baseStats[key] = value;\r\n                } else if (typeof value === 'string') {\r\n                    const parsed = parseFloat(value);\r\n                    if (!isNaN(parsed)) {\r\n                        this.data.baseStats[key] = parsed;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        // Migrate weapons\r\n        if (legacy.weapons) {\r\n            Object.entries(legacy.weapons).forEach(([key, weapon]) => {\r\n                this.data.weapons[key] = {\r\n                    level: typeof weapon.level === 'number' ? weapon.level : parseInt(weapon.level) || 0,\r\n                    stars: typeof weapon.stars === 'number' ? weapon.stars : parseInt(weapon.stars) || 0,\r\n                    equipped: weapon.equipped || false\r\n                };\r\n            });\r\n        }\r\n\r\n        // Migrate mastery bonuses\r\n        if (legacy.masteryBonuses) {\r\n            const tiers: MasteryTier[] = ['3rd', '4th'];\r\n            const types: MasteryType[] = ['all', 'boss'];\r\n\r\n            tiers.forEach(tier => {\r\n                types.forEach(type => {\r\n                    const tierData = legacy.masteryBonuses![tier];\r\n                    if (tierData && tierData[type]) {\r\n                        this.data.mastery[tier][type] = { ...tierData[type] };\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        // Migrate target selection\r\n        if (legacy.contentType) {\r\n            this.data.target.contentType = legacy.contentType as ContentType;\r\n        }\r\n        if (legacy.subcategory) {\r\n            this.data.target.subcategory = legacy.subcategory;\r\n        }\r\n        if (legacy.selectedStage) {\r\n            this.data.target.selectedStage = legacy.selectedStage;\r\n        }\r\n\r\n        // Migrate character data from separate keys\r\n        if (selectedClass) {\r\n            this.data.character.class = selectedClass;\r\n        }\r\n        if (selectedJobTier) {\r\n            this.data.character.jobTier = selectedJobTier as '3rd' | '4th';\r\n        }\r\n\r\n        console.log('LoadoutStore: Migration complete, saving to new format...');\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Validate data structure and fill missing fields with defaults\r\n     */\r\n    private validateAndFillDefaults(): void {\r\n        const defaults = DEFAULT_LOADOUT_DATA;\r\n\r\n        // Ensure baseStats exists\r\n        if (!this.data.baseStats) {\r\n            this.data.baseStats = {};\r\n        }\r\n\r\n        // Ensure character fields exist\r\n        if (!this.data.character) {\r\n            this.data.character = { ...defaults.character };\r\n        }\r\n        if (typeof this.data.character.level !== 'number') {\r\n            this.data.character.level = defaults.character.level;\r\n        }\r\n        if (this.data.character.class === undefined) {\r\n            this.data.character.class = defaults.character.class;\r\n        }\r\n        if (!this.data.character.jobTier || !['3rd', '4th'].includes(this.data.character.jobTier)) {\r\n            this.data.character.jobTier = defaults.character.jobTier;\r\n        }\r\n\r\n        // Ensure weapons exists\r\n        if (!this.data.weapons) {\r\n            this.data.weapons = {};\r\n        }\r\n\r\n        // Ensure mastery structure exists\r\n        if (!this.data.mastery) {\r\n            this.data.mastery = { ...defaults.mastery };\r\n        }\r\n        (['3rd', '4th'] as MasteryTier[]).forEach(tier => {\r\n            if (!this.data.mastery[tier]) {\r\n                this.data.mastery[tier] = { all: {}, boss: {} };\r\n            }\r\n            (['all', 'boss'] as MasteryType[]).forEach(type => {\r\n                if (!this.data.mastery[tier][type]) {\r\n                    this.data.mastery[tier][type] = {};\r\n                }\r\n            });\r\n        });\r\n\r\n        // Ensure target exists\r\n        if (!this.data.target) {\r\n            this.data.target = { ...defaults.target };\r\n        }\r\n        if (!this.data.target.contentType) {\r\n            this.data.target.contentType = 'none';\r\n        }\r\n\r\n        // Ensure weaponAttackBonus exists\r\n        if (!this.data.weaponAttackBonus) {\r\n            this.data.weaponAttackBonus = { ...defaults.weaponAttackBonus };\r\n        }\r\n        if (typeof this.data.weaponAttackBonus.totalAttack !== 'number') {\r\n            this.data.weaponAttackBonus.totalAttack = defaults.weaponAttackBonus.totalAttack;\r\n        }\r\n        if (typeof this.data.weaponAttackBonus.equippedAttack !== 'number') {\r\n            this.data.weaponAttackBonus.equippedAttack = defaults.weaponAttackBonus.equippedAttack;\r\n        }\r\n    }\r\n\r\n    // ========================================================================\r\n    // GETTERS - Return pre-hydrated data with safe defaults\r\n    // ========================================================================\r\n\r\n    /**\r\n     * Get all base stats as key-value object\r\n     * @returns Record of stat key \u2192 value (0 if not set)\r\n     */\r\n    getBaseStats(): Record<string, number> {\r\n        return { ...this.data.baseStats };\r\n    }\r\n\r\n    /**\r\n     * Get a single base stat value\r\n     * @param key - Stat key (e.g., \"attack-base\", \"crit-rate-base\")\r\n     * @returns Stat value (0 if not set)\r\n     */\r\n    getBaseStat(key: string): number {\r\n        return this.data.baseStats[key] ?? 0;\r\n    }\r\n\r\n    /**\r\n     * Get all weapons data\r\n     * @returns Weapons object indexed by rarity-tier key\r\n     */\r\n    getWeapons(): LoadoutData['weapons'] {\r\n        return { ...this.data.weapons };\r\n    }\r\n\r\n    /**\r\n     * Get single weapon data\r\n     * @param key - Weapon key (e.g., \"legendary-t4\")\r\n     * @returns Weapon data or null if not found\r\n     */\r\n    getWeapon(key: string): LoadoutData['weapons'][string] | null {\r\n        return this.data.weapons[key] ? { ...this.data.weapons[key] } : null;\r\n    }\r\n\r\n    /**\r\n     * Get mastery bonuses\r\n     * @returns Complete mastery bonus object\r\n     */\r\n    getMastery(): LoadoutData['mastery'] {\r\n        return JSON.parse(JSON.stringify(this.data.mastery));\r\n    }\r\n\r\n    /**\r\n     * Get specific mastery checkbox state\r\n     * @param tier - Mastery tier ('3rd' or '4th')\r\n     * @param type - Mastery type ('all' or 'boss')\r\n     * @param level - Mastery level (e.g., '64', '124')\r\n     * @returns Checkbox state (false if not set)\r\n     */\r\n    getMasteryCheckbox(tier: MasteryTier, type: MasteryType, level: string): boolean {\r\n        return this.data.mastery[tier][type][level] ?? false;\r\n    }\r\n\r\n    /**\r\n     * Get target selection\r\n     * @returns Target selection object\r\n     */\r\n    getTarget(): LoadoutData['target'] {\r\n        return { ...this.data.target };\r\n    }\r\n\r\n    /**\r\n     * Get character metadata\r\n     * @returns Character metadata object\r\n     */\r\n    getCharacter(): LoadoutData['character'] {\r\n        return { ...this.data.character };\r\n    }\r\n\r\n    /**\r\n     * Get selected class\r\n     * @returns Selected class name or null\r\n     */\r\n    getSelectedClass(): string | null {\r\n        return this.data.character.class;\r\n    }\r\n\r\n    /**\r\n     * Get selected job tier\r\n     * @returns Job tier ('3rd' or '4th')\r\n     */\r\n    getSelectedJobTier(): MasteryTier {\r\n        return this.data.character.jobTier;\r\n    }\r\n\r\n    /**\r\n     * Get character level\r\n     * @returns Character level\r\n     */\r\n    getCharacterLevel(): number {\r\n        return this.data.character.level;\r\n    }\r\n\r\n    /**\r\n     * Get weapon attack bonus\r\n     * @returns Weapon attack bonus object with totalAttack and equippedAttack\r\n     */\r\n    getWeaponAttackBonus(): LoadoutData['weaponAttackBonus'] {\r\n        return { ...this.data.weaponAttackBonus };\r\n    }\r\n\r\n    /**\r\n     * Get entire loadout data (for export/debugging)\r\n     * @returns Deep clone of loadout data\r\n     */\r\n    getAllData(): LoadoutData {\r\n        return JSON.parse(JSON.stringify(this.data));\r\n    }\r\n\r\n    // ========================================================================\r\n    // SETTERS - Partial updates with immediate save\r\n    // ========================================================================\r\n\r\n    /**\r\n     * Update multiple base stats at once\r\n     * @param updates - Object mapping stat keys to values\r\n     */\r\n    updateBaseStats(updates: Record<string, number>): void {\r\n        Object.assign(this.data.baseStats, updates);\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Update single base stat\r\n     * @param key - Stat key (e.g., \"attack-base\")\r\n     * @param value - New value\r\n     */\r\n    updateBaseStat(key: string, value: number): void {\r\n        this.data.baseStats[key] = value;\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Update weapon data\r\n     * @param key - Weapon key (e.g., \"legendary-t4\")\r\n     * @param data - Partial weapon data to update\r\n     */\r\n    updateWeapon(key: string, data: Partial<LoadoutData['weapons'][string]>): void {\r\n        if (!this.data.weapons[key]) {\r\n            this.data.weapons[key] = { level: 0, stars: 0, equipped: false };\r\n        }\r\n        this.data.weapons[key] = { ...this.data.weapons[key], ...data };\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Update mastery checkbox state\r\n     * @param tier - Mastery tier ('3rd' or '4th')\r\n     * @param type - Mastery type ('all' or 'boss')\r\n     * @param level - Mastery level (e.g., '64', '124')\r\n     * @param checked - Checkbox state\r\n     */\r\n    updateMasteryCheckbox(\r\n        tier: MasteryTier,\r\n        type: MasteryType,\r\n        level: string,\r\n        checked: boolean\r\n    ): void {\r\n        this.data.mastery[tier][type][level] = checked;\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Update target selection\r\n     * @param data - Partial target data\r\n     */\r\n    updateTarget(data: Partial<LoadoutData['target']>): void {\r\n        Object.assign(this.data.target, data);\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Update character metadata\r\n     * @param data - Partial character data\r\n     */\r\n    updateCharacter(data: Partial<LoadoutData['character']>): void {\r\n        Object.assign(this.data.character, data);\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Set selected class\r\n     * @param className - Class name or null\r\n     */\r\n    setSelectedClass(className: string | null): void {\r\n        this.data.character.class = className;\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Set selected job tier\r\n     * @param jobTier - Job tier ('3rd' or '4th')\r\n     */\r\n    setSelectedJobTier(jobTier: MasteryTier): void {\r\n        this.data.character.jobTier = jobTier;\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Set character level\r\n     * @param level - Character level\r\n     */\r\n    setCharacterLevel(level: number): void {\r\n        this.data.character.level = level;\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Update weapon attack bonus\r\n     * @param data - Partial weapon attack bonus data\r\n     */\r\n    updateWeaponAttackBonus(data: Partial<LoadoutData['weaponAttackBonus']>): void {\r\n        Object.assign(this.data.weaponAttackBonus, data);\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    // ========================================================================\r\n    // PERSISTENCE - Dual-write (new + legacy)\r\n    // ========================================================================\r\n\r\n    /**\r\n     * Save to localStorage (dual-write: new + legacy format)\r\n     */\r\n    private saveDualWrite(): void {\r\n        // 1. Write NEW structure to 'loadout-data'\r\n        localStorage.setItem('loadout-data', JSON.stringify(this.data));\r\n\r\n        // 2. Dual-write OLD structure to 'damageCalculatorData' (for backward compatibility)\r\n        const legacyFormat = this.convertToLegacyFormat();\r\n        localStorage.setItem('damageCalculatorData', JSON.stringify(legacyFormat));\r\n\r\n        // 3. Write separate keys for class/jobTier (legacy compatibility)\r\n        if (this.data.character.class) {\r\n            localStorage.setItem('selectedClass', this.data.character.class);\r\n        }\r\n        localStorage.setItem('selectedJobTier', this.data.character.jobTier);\r\n    }\r\n\r\n    /**\r\n     * Convert new LoadoutData to legacy damageCalculatorData format\r\n     * Used for dual-write backward compatibility\r\n     */\r\n    private convertToLegacyFormat(): LegacyDamageCalculatorData {\r\n        const legacy: LegacyDamageCalculatorData = {\r\n            baseSetup: { ...this.data.baseStats },\r\n            weapons: {},\r\n            masteryBonuses: {\r\n                '3rd': {\r\n                    all: { ...this.data.mastery['3rd'].all },\r\n                    boss: { ...this.data.mastery['3rd'].boss }\r\n                },\r\n                '4th': {\r\n                    all: { ...this.data.mastery['4th'].all },\r\n                    boss: { ...this.data.mastery['4th'].boss }\r\n                }\r\n            },\r\n            contentType: this.data.target.contentType === 'none' ? undefined : this.data.target.contentType,\r\n            subcategory: this.data.target.subcategory ?? undefined,\r\n            selectedStage: this.data.target.selectedStage ?? undefined\r\n        };\r\n\r\n        // Convert weapons to legacy format\r\n        Object.entries(this.data.weapons).forEach(([key, weapon]) => {\r\n            legacy.weapons![key] = {\r\n                level: weapon.level,\r\n                stars: weapon.stars,\r\n                equipped: weapon.equipped\r\n            };\r\n        });\r\n\r\n        return legacy;\r\n    }\r\n\r\n    // ========================================================================\r\n    // TESTING/DEBUGGING HELPERS\r\n    // ========================================================================\r\n\r\n    /**\r\n     * Reset store to defaults (for testing)\r\n     */\r\n    reset(): void {\r\n        this.data = JSON.parse(JSON.stringify(DEFAULT_LOADOUT_DATA));\r\n        this.saveDualWrite();\r\n    }\r\n\r\n    /**\r\n     * Check if store is initialized\r\n     */\r\n    isReady(): boolean {\r\n        return this.isInitialized;\r\n    }\r\n}\r\n\r\n// ========================================================================\r\n// SINGLETON EXPORT\r\n// ========================================================================\r\n\r\nexport const loadoutStore = new LoadoutStore();\r\n"],
  "mappings": "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",
  "names": []
}
